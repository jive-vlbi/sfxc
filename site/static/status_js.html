<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html 
      PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:svg="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink">
<head>

<style>
html {background-color:#eeeeee}
body {
      background-color:#ccffcc;
      font-family:Tahoma,Arial,Helvetica,sans-serif;
      font-size:12px;
	  margin-left:15%; 
	  margin-right:15%;
	  border:3px groove #006600; 
	  padding:15px
	 }
h1   {
      text-align:left;
      font-size:1.5em;
      font-weight:bold
     }
</style>

<script type="text/javascript">

// handle onreadystatechange event of req object
function processReqChange() {
    // only if req shows "loaded"
    div = document.getElementById("details");
    div.innerHTML += "Hellllllllllllllllo";
            
    if (req.readyState == 4) {
        // only if "OK"
        if (req.status == 200) 
         {
           //var details = document.getElementById("details");
           //details.innerHTML("Bob ? c 'et toi ");
           // = "John Meligh is here";
           //var details = document.getElementById("details")
            //details.innerHTML("Hello world")
            //clearTopicList();
            //buildTopicList();
            div = document.getElementById("details");
            div.innerHTML = "Hellllllllllllllllo";
            
            
         } else {
            alert("There was a problem retrieving the XML data:\n" +
                req.statusText);
         }
    }
}


function onClick(){
  div = document.getElementById("details");
  div.innerHTML = "Hellllllllllllllllo";        
  div.innerHTML += "Loading";
  //loadXMLDoc('http://www.mozilla.org/');
  
  loadXMLDoc('http://localhost:8080/cgi-bin/toto.py');
  //processReqChange();
  div.innerHTML += "Terminated";
}

// global flag
var isIE = false;

// global request and XML document objects
var req;

// retrieve XML document (reusable generic function);
// parameter is URL string (relative or complete) to
// an .xml file whose Content-Type is a valid XML
// type, such as text/xml; XML source must be from
// same domain as HTML file
function loadXMLDoc(url) {
    // branch for native XMLHttpRequest object
    if (window.XMLHttpRequest) {
        //document.write("ZUt")
        req = new XMLHttpRequest();
       
        req.onreadystatechange = processReqChange;
        req.onprogress = onProgress
        div = document.getElementById("details");
        div.innerHTML += "ENTERING <br>";        
  
       req.open("POST", url, true);
        req.send(null);
       
        div.innerHTML += "REQ FINIE <br>";        
  
        //processReqChange()
    // branch for IE/Windows ActiveX version
    } else if (window.ActiveXObject) {
        isIE = true;
        req = new ActiveXObject("Microsoft.XMLHTTP");
        if (req) {
            req.onreadystatechange = processReqChange;
            req.open("GET", url, false);
            req.send();
        }
    }
}

function onProgress(e) {
  var percentComplete = (e.position / e.totalSize)*100;
}

</script>
</head>

<body>
<h1>XMLHttpRequest Object Demo</h1>
<hr /> 

<h2>Merde</h2>


<object id="AdobeSVG" classid="clsid:78156a80-c6a1-4bbf-8e6a-3cd390eeb4e2"> </object>
<?import namespace="svg" urn="http://www.w3.org/2000/svg" implementation="#AdobeSVG"?>

<svg:svg version="1.1" baseProfile="full" width="300px" height="200px">
  <svg:circle cx="150px" cy="100px" r="50px" fill="#ff0000" stroke="#000000" stroke-width="5px"/>
</svg:svg>

<div id="details" onclick="onClick();">Click me ?</div>
<a href="" onclick="onClick();">Ok I'm a link</a>


</body>
<html>



<script type="text/javascript">

</script>


